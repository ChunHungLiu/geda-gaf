<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>geda:faq-gschem.fr</title>
  <meta name="generator" content="DokuWiki Release 2006-03-09" />
  <link rel="start" href="http://geda.seul.org/wiki/" />
  <link rel="contents" href="http://geda.seul.org/wiki/geda:faq-gschem.fr?do=index" title="" />
  <link rel="alternate" type="application/rss+xml" title="Recent Changes" href="http://geda.seul.org/wiki/feed.php" />
  <link rel="alternate" type="application/rss+xml" title="Current Namespace" href="http://geda.seul.org/wiki/feed.php?mode=list&ns=geda" />
  <link rel="alternate" type="text/html" title="Plain HTML" href="http://geda.seul.org/wiki/geda:faq-gschem.fr?do=export_xhtml" />
  <link rel="alternate" type="text/plain" title="Wiki Markup" href="http://geda.seul.org/wiki/geda:faq-gschem.fr?do=export_raw" />
  <meta name="date" content="2006-10-13T16:37:18-0400" />
  <meta name="robots" content="index,follow" />
  <link rel="stylesheet" media="screen" type="text/css" href="lib/exe/css" />
  <link rel="stylesheet" media="print" type="text/css" href="lib/exe/001css" />
</head>
<body>
<div class="dokuwiki export">
<div class="toc">
<div class="tocheader toctoggle" id="toc__header">Table of Contents</div>
<div id="toc__inside">

<ul class="toc">
<li class="level1"><div class="li"><span class="li"><a href="#usage_de_gschem" class="toc">Usage de Gschem</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="#comment_je_deplace_un_composant" class="toc">Comment je déplace un composant?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#comment_je_change_la_taille_du_texte_sur_un_symbole" class="toc">Comment je change la taille du texte sur un symbole?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#comment_deverouiller_un_composant" class="toc">Comment dévérouiller un composant</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#comment_refdes_peut-il_etre_automatiquement_numerote_lorsque_je_dessine_un_schema" class="toc">Comment refdes peut-il être automatiquement numéroté lorsque je dessine un schéma?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#que_sont_les_liaisons_de_touches_dans_gschem" class="toc">Que sont les Liaisons de Touches dans gschem?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#quelles_sont_les_liaisons_avec_la_souris_dans_gschem" class="toc">Quelles sont les liaisons avec la souris dans gschem?</a></span></div></li>
</ul>
</li>
<li class="level1"><div class="li"><span class="li"><a href="#symboles_gschem" class="toc">Symboles gschem</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="#what_s_this_business_about_heavy_vs._light_symbols" class="toc">What's this business about heavy vs. light symbols?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#i_am_using_a_symbol_out_of_the_library._how_come_it_s_not_aligned_to_the_grid" class="toc">I am using a symbol out of the library.  How come it's not aligned to the grid?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#is_there_an_explicit_no_connect_symbol_that_i_can_should_place_in_the_schematic_to_prevent_gnetlist_from_thinking_i_ve_forgotten_a_connection" class="toc">Is there an explicit &quot;no connect&quot; symbol that I can/should place in the schematic to prevent gnetlist from thinking I've forgotten a connection?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#how_do_i_promote_an_invisible_symbol_attribute_into_the_schematic" class="toc">How do I promote an invisible symbol attribute into the schematic?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#what_should_i_do_about_power_pins_on_my_symbolsmake_them_visible_explicit_or_invisible_implicit" class="toc">What should I do about power pins on my symbols: Make them visible (explicit) or invisible (implicit)?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#is_there_a_specification_or_manual_for_creating_gschem_symbols_where_is_it" class="toc">Is there a specification or manual for creating gschem symbols? Where is it?</a></span></div></li>
</ul>
</li>
<li class="level1"><div class="li"><span class="li"><a href="#gschem_configuration_customization" class="toc">Gschem configuration/customization</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="#how_can_i_change_the_default_size_of_floating_text" class="toc">How can I change the default size of floating text?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#how_can_i_have_a_different_background_color_other_than_black" class="toc">How can I have a different background color other than black?</a></span></div></li>
</ul>
</li>
<li class="level1"><div class="li"><span class="li"><a href="#printing_output" class="toc">Printing/Output</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="#how_do_i_print_schematics_from_the_command_line" class="toc">How do I print schematics from the command line?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#how_can_i_get_color_postscript_png_output" class="toc">How can I get color postscript/PNG output?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#how_can_i_get_black_and_white_postscript_png_output" class="toc">How can I get black and white postscript/PNG output?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#how_can_i_insert_schematics_into_my_latex_document" class="toc">How can I insert schematics into my LaTex document?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#how_can_i_split_postscript_output_over_multiple_pages" class="toc">How can I split postscript output over multiple pages?</a></span></div></li>
</ul>
</li>
<li class="level1"><div class="li"><span class="li"><a href="#gschem_installation_run-time_problems" class="toc">Gschem installation/run-time problems</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="#gschem_segfaults_when_i_delete_components_on_fc5_and_other_linux_distributions_is_there_a_work-around" class="toc">Gschem segfaults when I delete components on FC5 (and other Linux distributions)! Is there a work-around?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#after_installation_gschem_does_not_work_what_could_be_wrong" class="toc">After installation gschem does not work!? What could be wrong?</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#add_components_offers_no_symbols_what_can_i_do_about_it" class="toc">&quot;Add Components&quot; offers no symbols! What can I do about it?</a></span></div></li></ul>
</li></ul>
</div>
</div>

<h1><a name="usage_de_gschem" id="usage_de_gschem">Usage de Gschem</a></h1>
<div class="level1">

</div>
<!-- SECTION [1-31] -->
<h2><a name="comment_je_deplace_un_composant" id="comment_je_deplace_un_composant">Comment je déplace un composant?</a></h2>
<div class="level2">

<p>
Les nouveaux avec une longue expérience de Windows posent souvent cette question. Vous avez trois manières de déplacer facilement des composants avec gschem:
</p>

<p>
Un:
</p>
<ol>
<li class="level1"><div class="li"> Attrapez le composants avec le bouton de souris du milieu. Le composant suivra le curseur où vous l&rsquo;emmenez.</div>
</li>
<li class="level1"><div class="li"> Pour placer le composant, relachez le bouton du milieu de la souris. Le composant restera où vous l&rsquo;avez placé.</div>
</li>
</ol>

<p>
Deux:
</p>
<ol>
<li class="level1"><div class="li"> Sélectionnez le composant en cliquant dessus avec le bouton gauche de la souris. Le composant sera mis en valeur.</div>
</li>
<li class="level1"><div class="li"> Appuyez sur la touche « M » du clavier. Le composant suivra le curseur où vous l&rsquo;emmenez.</div>
</li>
<li class="level1"><div class="li"> Pour placer le composant, cliquez le bouton gauche de la souris. Le composant restera où vous l&rsquo;avez placé.</div>
</li>
</ol>

<p>
Trois:
</p>
<ol>
<li class="level1"><div class="li"> Sélectionnez le composant en cliquant dessus avec le bouton gauche de la souris. Le composant sera mis en valeur.</div>
</li>
<li class="level1"><div class="li"> Cliquez sur le bouton droit de la souris. Un menu déroulant apparaîtra.</div>
</li>
<li class="level1"><div class="li"> Avec le bouton gauche de la souris, cliquez sur l&rsquo;option « move » du menu déroulant.</div>
</li>
<li class="level1"><div class="li"> Cliquez sur le composant avec le bouton gauche de souris. Le composant suivra maintenant le curseur où vous le déplacez.</div>
</li>
<li class="level1"><div class="li"> Pour placer le composant, cliquez sur le bouton gauche de souris. Le composant restera là où vous l&rsquo;avez placé.</div>
</li>
</ol>

</div>
<!-- SECTION [32-1358] -->
<h2><a name="comment_je_change_la_taille_du_texte_sur_un_symbole" id="comment_je_change_la_taille_du_texte_sur_un_symbole">Comment je change la taille du texte sur un symbole?</a></h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> Sélectionnez le symbole.</div>
</li>
<li class="level1"><div class="li"> Clic droit → down symbol (ou faites Hierarchy → down symbol). Ceci vous mène à l&rsquo;éditeur de symbole.</div>
</li>
<li class="level1"><div class="li"> Sélectionnez le pinnumber que vous voulez changer.</div>
</li>
<li class="level1"><div class="li"> Faites Edit → Edit Text (ou tapez le raccourci clavier « ex »).</div>
</li>
<li class="level1"><div class="li"> Changez la taille de police dans la boîte déroulante.</div>
</li>
<li class="level1"><div class="li"> Recommencez pour tous les éléments de textes désirés.</div>
</li>
<li class="level1"><div class="li"> Fichier → sauvegarde</div>
</li>
<li class="level1"><div class="li"> Clic droit → up (ou Hierarchy → Up). Vous êtes maintenant retourné à l&rsquo;éditeur de schéma.</div>
</li>
<li class="level1"><div class="li"> Avez le symbole encore sélectionné, faites Edit → Update component (ou utilisez le raccourci clavier « ep »). Si cela ne fonctionne pas, effacez simplement le symbole et rechargez-le.</div>
</li>
</ol>

<p>
 Plus généralement, vous pouvez utiliser cette procédure pour éditer n&rsquo;importe quoi sur un symbole. (Substituez « Edit Text » pour votre édition souhaitée, bien sûr.)
</p>

</div>
<!-- SECTION [1359-2316] -->
<h2><a name="comment_deverouiller_un_composant" id="comment_deverouiller_un_composant">Comment dévérouiller un composant</a></h2>
<div class="level2">

<p>
Lorsqu&rsquo;un composant est véroullé, il est insélectionnable en utilisant le bouton milieu de la souris mais il est néanmoins sélectionnable en utilisant une sélection de fenêtre. Pour une sélection de fenêtre sur un composant, cliquez et maintenez avec le bouton gauche de souris et tirez pour créer une région rectangulaire contenant le composant devant être dévérouillé. Exécutez la commande <strong><em>Edit</em></strong> <strong>→</strong> <strong><em>unLock</em></strong> pour dévérouiller le composant.
</p>

</div>
<!-- SECTION [2317-2843] -->
<h2><a name="comment_refdes_peut-il_etre_automatiquement_numerote_lorsque_je_dessine_un_schema" id="comment_refdes_peut-il_etre_automatiquement_numerote_lorsque_je_dessine_un_schema">Comment refdes peut-il être automatiquement numéroté lorsque je dessine un schéma?</a></h2>
<div class="level2">

<p>
Éditez le fichier system-gschemrc ou placez ce qui suit dans le fichier gschemrc (soit <strong><code>~/.gEDA/gschemrc</code></strong> ou un fichier <strong><code>gschemrc</code></strong> dans le répertoire local d&rsquo;où vous invoquez gschem): 
</p>
<pre class="code">(load &quot;$YOUR_INSTALL_PATH/share/gEDA/scheme/auto-uref.scm&quot;)  ; load the autonumbering script
(add-hook! add-component-hook auto-uref)                     ; autonumber when adding a component
(add-hook! copy-component-hook auto-uref)                    ; autonumber when copying a component</pre>

<p>
Veuillez substituer $YOUR_INSTALL_PATH par le chemin d&rsquo;installation de geda.
</p>

</div>
<!-- SECTION [2844-3523] -->
<h2><a name="que_sont_les_liaisons_de_touches_dans_gschem" id="que_sont_les_liaisons_de_touches_dans_gschem">Que sont les Liaisons de Touches dans gschem?</a></h2>
<div class="level2">

</div>
<!-- SECTION [3524-3582] -->
<h2><a name="quelles_sont_les_liaisons_avec_la_souris_dans_gschem" id="quelles_sont_les_liaisons_avec_la_souris_dans_gschem">Quelles sont les liaisons avec la souris dans gschem?</a></h2>
<div class="level2">

<p>
Par défaut, vous avez:
</p>
<ul>
<li class="level1"><div class="li"> Le bouton gauche de souris est utilisé pour prendre et dessiner</div>
</li>
<li class="level1"><div class="li"> Le bouton milieu de souris est soit pour déplacer un objet (maintenez le bouton milieu sur un objet et déplacez la souris), soit pour copier un objet (la touche ALT maintenue lors d&rsquo;une pression sur le bouton milieu sur un objet et déplacez la souris).</div>
</li>
<li class="level1"><div class="li"> Le bouton droit de souris est un menu déroulant.</div>
</li>
</ul>

<p>
 Vous pouvez changer le bouton milieu en ajoutant ce qui suit à un fichier gschemrc: 
</p>
<pre class="code">(middle-button &quot;action&quot;)   ;default binding, move or copy an object</pre>

<p>
ou: 
</p>
<pre class="code">(middle-button &quot;stroke&quot;)   ;draw mouse gestures/strokes (must install libstroke to enable</pre>

<p>
ou: 
</p>
<pre class="code">(middle-button &quot;repeat&quot;)   ;repeat the last command executed</pre>

<p>
Vous pouvez changer le bouton droit en ajoutant ce qui suit dans un fichier gschemrc: 
</p>
<pre class="code">(third-button &quot;popup&quot;)     ;default binding, show a popup menu</pre>

<p>
ou: 
</p>
<pre class="code">(third-button &quot;mousepan&quot;)  ;use the mouse to pan around the schematic</pre>

<p>
Pour plus informations sur ces options, veuillez aller voir le fichier <strong><code>${install_prefix}/share/gEDA/system-gschemrc</code></strong>.
</p>

</div>
<!-- SECTION [3583-4787] -->
<h1><a name="symboles_gschem" id="symboles_gschem">Symboles gschem</a></h1>
<div class="level1">

</div>
<!-- SECTION [4788-4818] -->
<h2><a name="what_s_this_business_about_heavy_vs._light_symbols" id="what_s_this_business_about_heavy_vs._light_symbols">What's this business about heavy vs. light symbols?</a></h2>
<div class="level2">

<p>
This nomenclature arose from a discussion which frequently appears on the geda-user and geda-dev mailing lists. A light symbol is one which contains very few built-in attributes in the symbol itself. It requires that the user attach almost all attributes at the schematic level (e.g. using either gschem or gattrib). A heavy symbol is one which contains many attributes (such as package footprints, SPICE model names, etc.) built into the symbol file itself. A heavy symbol therefore requires very little attribute attachment at the schematic level – you just place it and you’re done.
</p>

<p>
The debate between proponents of heavy and light symbols is very detailed and involved. In caricature, proponents of heavy symbols belive that they provide better integration between gschem and PCB since the important layout attributes (such as <a href="http://geda.seul.org/wiki/geda:pcb_tips#i_want_to_use_pcb_to_do_layout._how_do_i_know_what_value_to_use_for_the_footprint_attribute" class="wikilink1" title="geda:pcb_tips">footprint name</a>) are already built into the symbol. This is considered a good thing for new users (noobs) who just want to design a simple board and don’t appreciate or don’t care about the zillions of variations that even a simple resistor might have (e.g. different footprint, TCR, precision, material composition, etc). Proponents of light symbols prefer to deal with attributes at the schematic level because they believe it to be more flexible. They are quick to point out that a library of heavy symbols will quickly grow into the thousands of parts with grotesquely long names trying to distinguish between the different variations of the part. They also point out that the utility &ldquo;gattrib” is the preferred tool for dealing with attributes at the schematic level (i.e. in the .sch file).
</p>

<p>
GEDA/gaf, as default configured, uses light symbols, although it can be configured to use heavy symbols. For further information, you may read these dicussions from the geda-user mailing list:
</p>

<p>
<a href="http://archives.seul.org/geda/user/Jun-2005/msg00001.html" class="urlextern" title="http://archives.seul.org/geda/user/Jun-2005/msg00001.html"  rel="nofollow">http://archives.seul.org/geda/user/Jun-2005/msg00001.html</a> <a href="http://archives.seul.org/geda/dev/Oct-2005/msg00043.html" class="urlextern" title="http://archives.seul.org/geda/dev/Oct-2005/msg00043.html"  rel="nofollow">http://archives.seul.org/geda/dev/Oct-2005/msg00043.html</a>
</p>

</div>
<!-- SECTION [4819-6949] -->
<h2><a name="i_am_using_a_symbol_out_of_the_library._how_come_it_s_not_aligned_to_the_grid" id="i_am_using_a_symbol_out_of_the_library._how_come_it_s_not_aligned_to_the_grid">I am using a symbol out of the library.  How come it's not aligned to the grid?</a></h2>
<div class="level2">

<p>
The symbols in the symbol library, like those available at the  <a href="http://www.gedasymbols.org/" class="urlextern" title="http://www.gedasymbols.org"  rel="nofollow"> gedasymbols </a> website are contributed by users just like you.  Some people use different grid settings than other people (e.g. 50mil vs. 100mil).   If you discover a symbol which seems to be off the grid, try reducing your grid spacing, move the symbol so that it sits on <strong>your</strong> grid, then revert to your preferred grid settings.
</p>

<p>
Yes, the gEDA docs suggest that you use a 100mil grid spacing.  But everybody likes to do things their own way, and there is no overall symbol dictator to enforce the rules on contributed symbols.  Therefore, you just need to be aware of this possibility.
</p>

</div>
<!-- SECTION [6950-7727] -->
<h2><a name="is_there_an_explicit_no_connect_symbol_that_i_can_should_place_in_the_schematic_to_prevent_gnetlist_from_thinking_i_ve_forgotten_a_connection" id="is_there_an_explicit_no_connect_symbol_that_i_can_should_place_in_the_schematic_to_prevent_gnetlist_from_thinking_i_ve_forgotten_a_connection">Is there an explicit &quot;no connect&quot; symbol that I can/should place in the schematic to prevent gnetlist from thinking I've forgotten a connection?</a></h2>
<div class="level2">

<p>
Answer: misc → nc-left, nc-right, nc-top, nc-bottom.
</p>

<p>
Caution: occassionally this may create a net called “no_connect” (or “NC??&rdquo;) which may lead to no-connect pins being connected together in gnetlist – which you probably _don’t_ want to happen.
</p>

<p>
If you want an entire symbol to be graphical (no elec. connections) , add a &ldquo;graphical=1&rdquo; attribute.  The netlister will ignore these symbols entirely.
</p>

</div>
<!-- SECTION [7728-8297] -->
<h2><a name="how_do_i_promote_an_invisible_symbol_attribute_into_the_schematic" id="how_do_i_promote_an_invisible_symbol_attribute_into_the_schematic">How do I promote an invisible symbol attribute into the schematic?</a></h2>
<div class="level2">

<p>
Most attributes living in the symbol do not get promoted to the schematic unless they are visible. To promote invisible symbol attributes, look for the following keywords in the system-gschemrc file: 
</p>
<pre class="code">(attribute-promotion “enabled”);
(promote-invisible “disabled”) ; ⇐ This one
(keep-invisible “enabled”)</pre>

<p>
Add to your gschemrc file: 
</p>
<pre class="code">(promote-invisible “enabled”)</pre>

<p>
and you will get all the attributes promoted. The “keep-invisible” keyword will keep hidden those attributes that are hidden in the symbol file.
</p>

</div>
<!-- SECTION [8298-8933] -->
<h2><a name="what_should_i_do_about_power_pins_on_my_symbolsmake_them_visible_explicit_or_invisible_implicit" id="what_should_i_do_about_power_pins_on_my_symbolsmake_them_visible_explicit_or_invisible_implicit">What should I do about power pins on my symbols: Make them visible (explicit) or invisible (implicit)?</a></h2>
<div class="level2">

<p>
In the past, digital logic circuits often hid the power pin, and attached power nets using an attribute inside the symbol. Modern thought is that this is a bad practice (although religious wars still occasionally rage about this topic).
</p>

<p>
It’s marginally OK for an old logic circuit which is all 5V TTL to have hidden power and GND pins. If you only have +5V on your board, then hiding the power pin can simplify your schematic somewhat. However, few designers design such circuits nowadays; 5V TTL (and 5V CMOS) are rapidly becoming antique technologies.
</p>

<p>
It’s always been unacceptable to hide the power pins on analog chips. First, analog often has multiple power connections (VCC, VEE) which need to be explicitly drawn out. Second, good design practice is to place decoupling caps on each and every power pin. Sometimes one places an inductor in series with power also. Since these should be drawn into the schematic, it is best done by attaching them to an explicit power pin. Therefore, one should never use hidden power pins for analog symbols.
</p>

<p>
New logic circuits often use multiple supplies for different chip sections (OVDD, DVDD, etc). It is also typical to have several logic families on a single board (5V, 3.3V etc.). Therefore, it’s best to explicitly place and wire the power pins on the symbol. Hidden power pins are a recipe for disaster since you can all too easily misconnect a 5V part to a 3.3V power net, for example.
</p>

<p>
To paraphrase Nancy Reagan: Just say “no” to hidden power pins.
</p>

<p>
That said, it may still be usefull to detach the power pins from the functional part of the symbol. To do so, define a seperate power symbol and give it the same <a href="http://geda.seul.org/wiki/geda:glossary" class="wikilink1" title="geda:glossary">refdes</a> as the functional part. A run of gsch2pcb will treat the siblings properly as one single component. As neither gschem nor gsch2pcb explicitely know that the component is only complete with both symbols defined, you have to check yourself. With this workaround, you can draw all power related circuitry in one corner of the schematic where it does not interfere with the signal nets. In many cases this is advantageous with analog circuits.
</p>

</div>
<!-- SECTION [8934-11191] -->
<h2><a name="is_there_a_specification_or_manual_for_creating_gschem_symbols_where_is_it" id="is_there_a_specification_or_manual_for_creating_gschem_symbols_where_is_it">Is there a specification or manual for creating gschem symbols? Where is it?</a></h2>
<div class="level2">

<p>
Yes. It is the <a href="http://geda.seul.org/wiki/geda:scg" class="wikilink1" title="geda:scg">Symbol Creation Guide</a>.
</p>

</div>
<!-- SECTION [11192-11332] -->
<h1><a name="gschem_configuration_customization" id="gschem_configuration_customization">Gschem configuration/customization</a></h1>
<div class="level1">

<p>
Gschem is configurable in more ways than can be describe here. Look at &ldquo;system-gschemrc&rdquo; for suggestions what else can be done.
</p>

</div>
<!-- SECTION [11333-11510] -->
<h2><a name="how_can_i_change_the_default_size_of_floating_text" id="how_can_i_change_the_default_size_of_floating_text">How can I change the default size of floating text?</a></h2>
<div class="level2">

<p>
Put  
</p>
<pre class="code">(text-size 10)</pre>

<p>
 into your gschemrc and replace &ldquo;10&rdquo; with your favorite size.
</p>

</div>
<!-- SECTION [11511-11669] -->
<h2><a name="how_can_i_have_a_different_background_color_other_than_black" id="how_can_i_have_a_different_background_color_other_than_black">How can I have a different background color other than black?</a></h2>
<div class="level2">

<p>
Edit the system-gschemrc file and near the top you will find lines like: 
</p>
<pre class="code">; 
; Start of color section
; 
; Load up a color scheme has a light (almost white) background
; Comment out the first line and comment in the second line for a
; dark (black) background.  The dark background is the original look.
; 
(load (string-append gedadatarc &quot;/gschem-darkbg&quot;)) ; dark background
;(load (string-append gedadatarc &quot;/gschem-lightbg&quot;)) ; light background</pre>

<p>
Comment out the <strong><code>darkbg</code></strong> line (with a ;) and comment in the <strong><code>lightbg</code></strong> line. This will give you a light background instead of a black background. It also adjust all the other colors to be compatible with a light background.
</p>

<p>
If you want more control over the colors, please edit <strong><code>${prefix}/share/gEDA/gschem-darkbg</code></strong> or <strong><code>${prefix}/share/gEDA/gschem-lightbg</code></strong> or create your own file and load it in the <strong><code>system-gschemrc</code></strong> file.
</p>

<p>
A dark background is preferred by many users.
</p>

</div>
<!-- SECTION [11670-12705] -->
<h1><a name="printing_output" id="printing_output">Printing/Output</a></h1>
<div class="level1">

</div>
<!-- SECTION [12706-12735] -->
<h2><a name="how_do_i_print_schematics_from_the_command_line" id="how_do_i_print_schematics_from_the_command_line">How do I print schematics from the command line?</a></h2>
<div class="level2">

<p>
Running the script <strong><code>gschem-print.scm</code></strong> will create the Postscript file that is specified on the command line.
</p>

<p>
The command line below creates a Postscript file from a schematic file (replace MY_SCH with the name of your schematic and GEDA_SCHEME_DIR with the name of the directory where your gEDA scheme files are installed): 
</p>
<pre class="code">gschem -p -oMY_SCH.ps -sGEDA_SCHEME_DIR/gschem-print.scm MY_SCH.sch</pre>

<p>
The BASH script below, which I name <strong><code>gschem-print</code></strong>, creates a Postscript file for each schematic file that is specified on the command line and then outputs each Postscript file to the default printer: 
</p>
<pre class="code">#!/bin/bash

# gschem options
# -oPS_FILENAME output to Postscript file PS_FILENAME
# -sSCRIPT_FILENAME run script SCRIPT_FILENAME
# -p autoplace windows

for name in $*
do
base=”${name%.*}”
gschem -p -o$base.ps -sGEDA_SCHEME_DIR/gschem-print.scm $base.sch
lpr -P$PRINTER $base.ps
done</pre>

</div>
<!-- SECTION [12736-13721] -->
<h2><a name="how_can_i_get_color_postscript_png_output" id="how_can_i_get_color_postscript_png_output">How can I get color postscript/PNG output?</a></h2>
<div class="level2">

<p>
Edit the <strong><code>system-gschemrc</code></strong> file or place the following into a <strong><code>gschemrc</code></strong> file (either <strong><code>~/.gEDA/gschemrc</code></strong> or a <strong><code>gschemrc</code></strong> file in the local directory where you invoke gschem): 
</p>
<pre class="code">(output-color &quot;enabled&quot;)      ; for color postscript output
(image-color &quot;enabled&quot;)       ; for color PNG output (enabled by default)</pre>

<p>
To control the background of the PS output, change the following line in either gschem-darkbg (for the default black colored background) or gschem-lightbg (for the alternative light colored background): 
</p>
<pre class="code">(output-color-background 16 &quot;black&quot; &quot;null&quot; &quot;0 0 0&quot; 0 0 0)</pre>

<p>
The “0 0 0” is the RGB components (between 0..1) for the background color of the PS output.
</p>

<p>
To control the background of the <acronym title="Portable Network Graphics">PNG</acronym> output, change the following line in either gschem-darkbg (for the default black colored background) or gschem-lightbg (for the alternative light colored background): 
</p>
<pre class="code">(background-color 0 &quot;grey94&quot; &quot;null&quot; &quot;1 1 1&quot; 255 255 255)</pre>

<p>
The 255 255 255 are the RGB components for the background color of the <acronym title="Portable Network Graphics">PNG</acronym> image.
</p>

</div>
<!-- SECTION [13722-14853] -->
<h2><a name="how_can_i_get_black_and_white_postscript_png_output" id="how_can_i_get_black_and_white_postscript_png_output">How can I get black and white postscript/PNG output?</a></h2>
<div class="level2">

<p>
For black and white PS output, place the following into a gschemrc file: 
</p>
<pre class="code">(output-color &quot;disabled&quot;)      ; for monochrome postscript output</pre>

<p>
For black and white <acronym title="Portable Network Graphics">PNG</acronym> images, place the following into a gschemrc file: 
</p>
<pre class="code">(image-color &quot;disabled&quot;)       ; for monochromoe PNG output</pre>

</div>
<!-- SECTION [14854-15219] -->
<h2><a name="how_can_i_insert_schematics_into_my_latex_document" id="how_can_i_insert_schematics_into_my_latex_document">How can I insert schematics into my LaTex document?</a></h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> Print the schematic to a file. This will be generic postscript (*.ps).</div>
</li>
<li class="level1"><div class="li"> Convert the postscript file to epsi with the tool ps2epsi. This is a script from the ghostscript suite.</div>
</li>
<li class="level1"><div class="li"> Include usepackage{graphicx} to the preamble of your latex document. Use the comand includegraphics to place your schematic.</div>
</li>
</ol>

<p>
 A simple example: 
</p>
<pre class="code">\documentclass{article}
\usepackage{graphicx}
\begin{document}
  \begin{image}
  \includegraphics[width=100mm]{ModulPID.epsi}
  \end{image}
\end{document}</pre>

</div>
<!-- SECTION [15220-15783] -->
<h2><a name="how_can_i_split_postscript_output_over_multiple_pages" id="how_can_i_split_postscript_output_over_multiple_pages">How can I split postscript output over multiple pages?</a></h2>
<div class="level2">

<p>
gschem does not provide this functionality internally, however there is a program called “poster” which does exactly this. It can be downloaded from either <a href="http://www.gnu.org/directory/poster.html" class="urlextern" title="http://www.gnu.org/directory/poster.html"  rel="nofollow">here</a> (GNU) or <a href="http://printing.kde.org/downloads/" class="urlextern" title="http://printing.kde.org/downloads/"  rel="nofollow">here</a> (KDE Print).
</p>

</div>
<!-- SECTION [15784-16127] -->
<h1><a name="gschem_installation_run-time_problems" id="gschem_installation_run-time_problems">Gschem installation/run-time problems</a></h1>
<div class="level1">

</div>
<!-- SECTION [16128-16180] -->
<h2><a name="gschem_segfaults_when_i_delete_components_on_fc5_and_other_linux_distributions_is_there_a_work-around" id="gschem_segfaults_when_i_delete_components_on_fc5_and_other_linux_distributions_is_there_a_work-around">Gschem segfaults when I delete components on FC5 (and other Linux distributions)! Is there a work-around?</a></h2>
<div class="level2">

<p>
This bug seems to have appeared for users of Fedora Core 5 (and other linux distributions that use glib 2.10.x). The bug has been fixed by the developers and the bug fix will appear in the next version of gEDA/gaf. 
</p>

<p>
In the mean time, you can work around this bug by setting the environment variable G_SLICE to “always-malloc”.  Specifically, before you run gschem, do this:
</p>

<p>
bash: 
</p>
<pre class="code">export G_SLICE=always-malloc</pre>

<p>
csh: 
</p>
<pre class="code">setenv G_SLICE always-malloc</pre>

</div>
<!-- SECTION [16181-16775] -->
<h2><a name="after_installation_gschem_does_not_work_what_could_be_wrong" id="after_installation_gschem_does_not_work_what_could_be_wrong">After installation gschem does not work!? What could be wrong?</a></h2>
<div class="level2">

<p>
If you run gschem and you get a window without a menu bar, no colors, and the program terminates when you press a key with the following message: 
</p>
<pre class="code">ERROR: Unbound variable: current-keymap</pre>

<p>
Or you get errors like this: 
</p>
<pre class="code">Gtk-CRITICAL : file gtkpixmap.c: line 97 (gtk_pixmap_new): assertion `val != NULL’ failed.
Gtk-CRITICAL : file gtkpixmap.c: line 97 (gtk_pixmap_new): assertion `val != NULL’ failed.
Tried to get an invalid color: 0
Tried to get an invalid color: 7
Tried to get an invalid color: 0
Tried to get an invalid color: 7</pre>

<p>
then gschem is not finding an rc file. There are two required rc files. The first is <strong><code>system-gschemrc</code></strong> and the second is <strong><code>system-commonrc</code></strong>.
</p>
<ul>
<li class="level1"><div class="li"> The system-gschemrc rc file should be installed when you install gschem and typically resides in <strong><code>${prefix}/share/gEDA/system-gschemrc</code></strong>. <strong><code>${prefix}</code></strong> is where you installed gschem (usually <strong><code>/usr</code></strong> or <strong><code>/usr/local</code></strong> or <strong><code>$HOME/geda</code></strong>). This file can also be installed in /etc/gEDA (the .debs packages do this).</div>
</li>
<li class="level1"><div class="li"> The system-commonrc rc file should be installed when you install the symbol library for gEDA/gaf. It resides in <strong><code>${prefix}/share/gEDA/system-commonrc</code></strong>. This file can also be installed in <strong><code>/etc/gEDA</code></strong> (the .debs packages do this). This file is not loaded directly by gschem. It is loaded by a “(load ...)” in the system-gschemrc rc file.</div>
</li>
</ul>

<p>
 Make sure these file are installed. The gschem.log file (which is created everytime you run gschem) holds valuable debugging information which should help in determining what is wrong. Check this file for where gschem is looking for the rc files.
</p>

<p>
Also, some older releases of gEDA/gaf had some bugs when the rc files were installed in other locations (other that <strong><code>${prefix}/share/gEDA</code></strong>), so please upgrade to a more current release.
</p>

</div>
<!-- SECTION [16776-18699] -->
<h2><a name="add_components_offers_no_symbols_what_can_i_do_about_it" id="add_components_offers_no_symbols_what_can_i_do_about_it">&quot;Add Components&quot; offers no symbols! What can I do about it?</a></h2>
<div class="level2">

<p>
Make sure that at least one of your config files contains a valid path to a symbol library. At startup, gschem checks for the following config files (on a Debian system):
</p>
<ol>
<li class="level1"><div class="li"> system gafrc file: <code>/etc/gEDA/system-gafrc</code></div>
</li>
<li class="level1"><div class="li"> user gafrc file: <code>~/.gEDA/gafrc</code></div>
</li>
<li class="level1"><div class="li"> local gafrc file: <code>$PWD/gafrc</code></div>
</li>
<li class="level1"><div class="li"> system gschemrc file: <code>/etc/gEDA/system-gschemrc</code></div>
</li>
<li class="level1"><div class="li"> user gschemrc file: <code>~/.gEDA/gschemrc</code></div>
</li>
<li class="level1"><div class="li"> local gschemrc file: <code>$PWD/gschemrc]</code></div>
</li>
</ol>

<p>
All of these config files may or may not append paths to the library search list. If a config file conatins the command 
</p>
<pre class="code">(reset-component-library)</pre>

<p>
 the library search path will be emptied. Order is obviously important, as this command will erase any previously appended paths.   
</p>

</div>
<!-- SECTION [18700-] --></div>
</body>
</html>
